const translations = {
  es: {
    dashboard: "Dashboard",
    dashboardSubtitle: "Resumen financiero",
    transactions: "Transacciones",
    transactionsSubtitle: "Estado de cuenta completo",
    categories: "Categor칤as",
    categoriesSubtitle: "Gesti칩n de presupuestos",
    subscriptions: "Suscripciones",
    subscriptionsSubtitle: "Gesti칩n de pagos recurrentes",
    banks: "Bancos",
    banksSubtitle: "Mis cuentas bancarias",
    settings: "Configuraci칩n",
    settingsSubtitle: "Ajustes de la aplicaci칩n",
    totalBalance: "Saldo Total",
    income: "Ingresos",
    expenses: "Gastos",
    savingsRate: "Tasa de Ahorro",
    cashFlow: "Flujo de Caja Mensual",
    expensesByCategory: "Gastos por Categor칤a",
    budgetControl: "Control de Presupuesto",
    week: "Semana",
    month: "Mes",
    quarter: "Trimestre",
    year: "A침o",
    addIncome: "Agregar Ingreso",
    addExpense: "Agregar Gasto",
    viewReport: "Ver Reporte",
    exportData: "Exportar Datos",
    syncData: "Sincronizar",
    logout: "Cerrar Sesi칩n",
    thisMonth: "Este mes",
    savingsGoal: "Meta: 20%",
    7days: "7 d칤as",
    30days: "30 d칤as",
    90days: "90 d칤as",
    thisYear: "Este a침o",
    custom: "Personalizado",
    all: "Todas",
    allCategories: "Todas las categor칤as",
    allBanks: "Todos los bancos",
    period: "Per칤odo:",
    transactionType: "Tipo de Transacci칩n",
    amount: "Monto",
    category: "Categor칤a",
    date: "Fecha",
    description: "Descripci칩n",
    paymentMethod: "M칠todo de Pago",
    bank: "Banco",
    location: "Ubicaci칩n",
    notes: "Notas",
    selectType: "Seleccionar tipo",
    selectCategory: "Seleccionar categor칤a",
    selectMethod: "Seleccionar m칠todo",
    selectBank: "Seleccionar banco",
    cancel: "Cancelar",
    save: "Guardar",
    export: "Exportar",
    newTransaction: "Nueva Transacci칩n",
    import: "Importar",
    newCategory: "Nueva Categor칤a",
    categoryName: "Nombre de la categor칤a",
    monthlyBudget: "Presupuesto mensual",
    color: "Color",
    icon: "Icono",
    newSubscription: "Nueva Suscripci칩n",
    subscriptionName: "Nombre de la suscripci칩n",
    price: "Precio",
    billingCycle: "Ciclo de facturaci칩n",
    nextPayment: "Pr칩ximo pago",
    monthly: "Mensual",
    annual: "Anual",
    totalSubscriptions: "Total Suscripciones",
    monthlyTotal: "Total Mensual",
    annualTotal: "Total Anual",
    active: "Activas",
    filter: "Filtrar",
    addBank: "Agregar Banco",
    syncBanks: "Sincronizar",
    noBanks: "No tienes bancos registrados",
    addFirstBank: "Agrega tu primer banco para comenzar a gestionar tus cuentas financieras",
    banksSelected: "bancos seleccionados",
    changeStatus: "Cambiar Estado",
    delete: "Eliminar",
    accountType: "Tipo de cuenta",
    checking: "Cuenta Corriente",
    savings: "Cuenta de Ahorros",
    credit: "Tarjeta de Cr칠dito",
    investment: "Cuenta de Inversi칩n",
    status: "Estado",
    active: "Activas",
    inactive: "Inactivas",
    currency: "Moneda",
    allCurrencies: "Todas las monedas",
    sortBy: "Ordenar por",
    name: "Nombre",
    balance: "Saldo",
    type: "Tipo",
    date: "Fecha",
    profile: "Perfil",
    email: "Correo",
    phone: "Tel칠fono",
    saveChanges: "Guardar Cambios",
    financialGoals: "Metas Financieras",
    savingsGoalPercent: "Meta de Ahorro Mensual (%)",
    emergencyFund: "Fondo de Emergencia ($)",
    monthlyBudget: "Presupuesto Mensual ($)",
    updateGoals: "Actualizar Metas",
    preferences: "Preferencias",
    defaultCurrency: "Moneda Predeterminada",
    dateFormat: "Formato de Fecha",
    enableNotifications: "Habilitar notificaciones",
    autoDarkMode: "Modo oscuro autom치tico",
    savePreferences: "Guardar Preferencias",
    exportData: "Exportar Datos",
    exportDataDesc: "Exporta tus datos financieros para an치lisis externo o respaldo",
    exportCSV: "Exportar CSV",
    exportPDF: "Exportar PDF",
    exportJSON: "Exportar JSON",
    security: "Seguridad",
    currentPassword: "Contrase침a Actual",
    newPassword: "Nueva Contrase침a",
    confirmPassword: "Confirmar Nueva Contrase침a",
    updatePassword: "Actualizar Contrase침a",
    bankName: "Nombre del banco",
    initialBalance: "Saldo inicial",
    accountNumber: "N칰mero de cuenta",
    isActive: "쮸ctiva?",
    transfer: "Transferencia",
    creditCard: "Tarjeta de Cr칠dito",
    debitCard: "Tarjeta de D칠bito",
    cash: "Efectivo",
    autoDebit: "D칠bito Autom치tico",
    selectIcon: "Seleccionar icono",
    selected: "Seleccionado",
    banks: "Bancos",
    totalBanks: "Total Bancos",
    totalBalance: "Balance Total",
    activeAccounts: "Cuentas Activas",
    totalCurrencies: "Total Monedas",
    noTransactions: "No se encontraron transacciones",
    tryAdjustingFilters: "Intenta ajustar los filtros o agrega una nueva transacci칩n",
    transactionDetail: "Detalle de Transacci칩n",
    completed: "Completada",
    close: "Cerrar",
    urgent: "Urgente",
    days: "d칤as",
    remaining: "Restante",
    overBudget: "Excedido",
    categoryBudget: "Presupuesto",
    categorySpent: "Gastado",
    progress: "Progreso",
    deleteCategoryConfirm: "쮼st치s seguro de que deseas eliminar la categor칤a?",
    deleteSubscriptionConfirm: "쮼st치s seguro de que deseas eliminar la suscripci칩n?",
    deleteBankConfirm: "쮼st치s seguro de que deseas eliminar el banco?",
    categoryDeleted: "Categor칤a eliminada",
    subscriptionDeleted: "Suscripci칩n eliminada",
    bankDeleted: "Banco eliminado",
    transactionAdded: "Transacci칩n agregada exitosamente",
    categoryAdded: "Categor칤a creada exitosamente",
    subscriptionAdded: "Suscripci칩n agregada exitosamente",
    bankAdded: "Banco agregado exitosamente",
    dataSynced: "Datos sincronizados exitosamente",
    dataExported: "Datos exportados exitosamente",
    reportGenerated: "Reporte generado exitosamente",
    passwordUpdated: "Contrase침a actualizada exitosamente",
    preferencesSaved: "Preferencias guardadas exitosamente",
    goalsUpdated: "Metas actualizadas exitosamente",
    profileSaved: "Perfil guardado exitosamente",
    sessionExpired: "Sesi칩n expirada por inactividad",
    invalidCredentials: "Credenciales inv치lidas",
    accountLocked: "Cuenta bloqueada temporalmente. Intenta m치s tarde.",
    passwordMismatch: "Las contrase침as no coinciden",
    weakPassword: "La contrase침a debe tener al menos 6 caracteres",
    emailExists: "Este correo ya est치 registrado",
    termsRequired: "Debes aceptar los t칠rminos y condiciones",
    fieldsRequired: "Por favor completa todos los campos obligatorios",
    invalidEmail: "Por favor ingresa un email v치lido",
    success: "칄xito",
    error: "Error",
    warning: "Advertencia",
    info: "Informaci칩n"
  },
  en: {
    dashboard: "Dashboard",
    dashboardSubtitle: "Financial overview",
    transactions: "Transactions",
    transactionsSubtitle: "Full account statement",
    categories: "Categories",
    categoriesSubtitle: "Budget management",
    subscriptions: "Subscriptions",
    subscriptionsSubtitle: "Recurring payments management",
    banks: "Banks",
    banksSubtitle: "My bank accounts",
    settings: "Settings",
    settingsSubtitle: "Application settings",
    totalBalance: "Total Balance",
    income: "Income",
    expenses: "Expenses",
    savingsRate: "Savings Rate",
    cashFlow: "Monthly Cash Flow",
    expensesByCategory: "Expenses by Category",
    budgetControl: "Budget Control",
    week: "Week",
    month: "Month",
    quarter: "Quarter",
    year: "Year",
    addIncome: "Add Income",
    addExpense: "Add Expense",
    viewReport: "View Report",
    exportData: "Export Data",
    syncData: "Sync Data",
    logout: "Log Out",
    thisMonth: "This month",
    savingsGoal: "Goal: 20%",
    7days: "7 days",
    30days: "30 days",
    90days: "90 days",
    thisYear: "This year",
    custom: "Custom",
    all: "All",
    allCategories: "All categories",
    allBanks: "All banks",
    period: "Period:",
    transactionType: "Transaction Type",
    amount: "Amount",
    category: "Category",
    date: "Date",
    description: "Description",
    paymentMethod: "Payment Method",
    bank: "Bank",
    location: "Location",
    notes: "Notes",
    selectType: "Select type",
    selectCategory: "Select category",
    selectMethod: "Select method",
    selectBank: "Select bank",
    cancel: "Cancel",
    save: "Save",
    export: "Export",
    newTransaction: "New Transaction",
    import: "Import",
    newCategory: "New Category",
    categoryName: "Category name",
    monthlyBudget: "Monthly budget",
    color: "Color",
    icon: "Icon",
    newSubscription: "New Subscription",
    subscriptionName: "Subscription name",
    price: "Price",
    billingCycle: "Billing cycle",
    nextPayment: "Next payment",
    monthly: "Monthly",
    annual: "Annual",
    totalSubscriptions: "Total Subscriptions",
    monthlyTotal: "Monthly Total",
    annualTotal: "Annual Total",
    active: "Active",
    filter: "Filter",
    addBank: "Add Bank",
    syncBanks: "Sync Banks",
    noBanks: "You have no registered banks",
    addFirstBank: "Add your first bank to start managing your financial accounts",
    banksSelected: "banks selected",
    changeStatus: "Change Status",
    delete: "Delete",
    accountType: "Account Type",
    checking: "Checking Account",
    savings: "Savings Account",
    credit: "Credit Card",
    investment: "Investment Account",
    status: "Status",
    active: "Active",
    inactive: "Inactive",
    currency: "Currency",
    allCurrencies: "All currencies",
    sortBy: "Sort by",
    name: "Name",
    balance: "Balance",
    type: "Type",
    date: "Date",
    profile: "Profile",
    email: "Email",
    phone: "Phone",
    saveChanges: "Save Changes",
    financialGoals: "Financial Goals",
    savingsGoalPercent: "Monthly Savings Goal (%)",
    emergencyFund: "Emergency Fund ($)",
    monthlyBudget: "Monthly Budget ($)",
    updateGoals: "Update Goals",
    preferences: "Preferences",
    defaultCurrency: "Default Currency",
    dateFormat: "Date Format",
    enableNotifications: "Enable notifications",
    autoDarkMode: "Automatic dark mode",
    savePreferences: "Save Preferences",
    exportData: "Export Data",
    exportDataDesc: "Export your financial data for external analysis or backup",
    exportCSV: "Export CSV",
    exportPDF: "Export PDF",
    exportJSON: "Export JSON",
    security: "Security",
    currentPassword: "Current Password",
    newPassword: "New Password",
    confirmPassword: "Confirm New Password",
    updatePassword: "Update Password",
    bankName: "Bank name",
    initialBalance: "Initial balance",
    accountNumber: "Account number",
    isActive: "Active?",
    transfer: "Transfer",
    creditCard: "Credit Card",
    debitCard: "Debit Card",
    cash: "Cash",
    autoDebit: "Auto Debit",
    selectIcon: "Select icon",
    selected: "Selected",
    banks: "Banks",
    totalBanks: "Total Banks",
    totalBalance: "Total Balance",
    activeAccounts: "Active Accounts",
    totalCurrencies: "Total Currencies",
    noTransactions: "No transactions found",
    tryAdjustingFilters: "Try adjusting the filters or add a new transaction",
    transactionDetail: "Transaction Detail",
    completed: "Completed",
    close: "Close",
    urgent: "Urgent",
    days: "days",
    remaining: "Remaining",
    overBudget: "Over Budget",
    categoryBudget: "Budget",
    categorySpent: "Spent",
    progress: "Progress",
    deleteCategoryConfirm: "Are you sure you want to delete the category?",
    deleteSubscriptionConfirm: "Are you sure you want to delete the subscription?",
    deleteBankConfirm: "Are you sure you want to delete the bank?",
    categoryDeleted: "Category deleted",
    subscriptionDeleted: "Subscription deleted",
    bankDeleted: "Bank deleted",
    transactionAdded: "Transaction added successfully",
    categoryAdded: "Category created successfully",
    subscriptionAdded: "Subscription added successfully",
    bankAdded: "Bank added successfully",
    dataSynced: "Data synced successfully",
    dataExported: "Data exported successfully",
    reportGenerated: "Report generated successfully",
    passwordUpdated: "Password updated successfully",
    preferencesSaved: "Preferences saved successfully",
    goalsUpdated: "Goals updated successfully",
    profileSaved: "Profile saved successfully",
    sessionExpired: "Session expired due to inactivity",
    invalidCredentials: "Invalid credentials",
    accountLocked: "Account temporarily locked. Try again later.",
    passwordMismatch: "Passwords do not match",
    weakPassword: "Password must be at least 6 characters",
    emailExists: "This email is already registered",
    termsRequired: "You must accept the terms and conditions",
    fieldsRequired: "Please complete all required fields",
    invalidEmail: "Please enter a valid email",
    success: "Success",
    error: "Error",
    warning: "Warning",
    info: "Information"
  }
};

let currentLanguage = localStorage.getItem('language') || 'es';

function toggleLanguage() {
  currentLanguage = currentLanguage === 'es' ? 'en' : 'es';
  localStorage.setItem('language', currentLanguage);
  applyTranslations();
  updateLanguageButton();
}

function updateLanguageButton() {
  const button = document.querySelector('.language-button');
  if (button) {
    button.textContent = currentLanguage === 'es' ? '游깷 ES' : '游깷 EN';
  }
}

function applyTranslations() {
  const elements = document.querySelectorAll('[data-i18n]');
  elements.forEach(element => {
    const key = element.getAttribute('data-i18n');
    if (translations[currentLanguage][key]) {
      element.textContent = translations[currentLanguage][key];
    }
  });
}

document.addEventListener('DOMContentLoaded', () => {
  applyTranslations();
  updateLanguageButton();
});